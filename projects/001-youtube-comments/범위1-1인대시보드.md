# 범위1: 1인 대시보드 (MVP)

> **영상 콘텐츠**: "AI로 유튜브 댓글 자동 응답하기 - 나만의 대시보드 만들기"

## 목표

내 유튜브 채널 하나를 위한 **초간단 댓글 관리 대시보드**.
버튼 2개로 댓글 가져오기 + AI 자동 응답.

---

## 핵심 기능 (딱 2개)

```
┌─────────────────────────────────────────────────────────────┐
│  🎬 내 채널 댓글 관리                                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   [📥 댓글 가져오기]      [🤖 자동 응답하기]                │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  최근 댓글 목록                                              │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📹 AI 수익화 3편                                     │   │
│  │ 👤 김철수: "좋은 영상이네요!"                        │   │
│  │ 🏷️ 긍정적 → 감사                                    │   │
│  │ 💬 "감사합니다! 더 좋은 영상으로 보답할게요 ㅎㅎ"    │   │
│  │ ✅ 응답완료                                          │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📹 AI 수익화 3편                                     │   │
│  │ 👤 박영희: "설치 방법 알려주세요"                    │   │
│  │ 🏷️ 질문 → 친근                                      │   │
│  │ 💬 (대기중)                                          │   │
│  │ ⏳ 미응답                                            │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  << 1 2 3 >>                                                │
└─────────────────────────────────────────────────────────────┘
```

---

## 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                  Cloudflare Workers                         │
├─────────────────────────────────────────────────────────────┤
│  [대시보드 UI]              [API]              [Cron]       │
│   HTML 페이지             REST API           매일 1회       │
└─────────────────────────────────────────────────────────────┘
         │                     │                    │
         ▼                     ▼                    ▼
  ┌────────────┐       ┌────────────┐       ┌────────────┐
  │ YouTube    │       │ Claude     │       │ Cloudflare │
  │ Data API   │       │ API        │       │ KV         │
  │ (댓글)     │       │ (AI 응답)  │       │ (저장)     │
  └────────────┘       └────────────┘       └────────────┘
```

---

## 처리 플로우

### 버튼1: 댓글 가져오기

```
[📥 버튼 클릭]
      │
      ▼
┌─────────────────┐
│ YouTube API     │
│ 내 채널 댓글    │
│ 전체 조회       │
└─────────────────┘
      │
      ▼
┌─────────────────┐
│ AI 분류         │
│ - 긍정적        │
│ - 부정적        │
│ - 질문          │
│ - 제안          │
│ - 단순반응      │
└─────────────────┘
      │
      ▼
┌─────────────────┐
│ KV 저장         │
│ (중복 제외)     │
└─────────────────┘
      │
      ▼
"새 댓글 15개 가져옴"
```

### 버튼2: 자동 응답하기

```
[🤖 버튼 클릭]
      │
      ▼
┌─────────────────┐
│ 미응답 댓글     │
│ 목록 조회       │
└─────────────────┘
      │
      ▼
┌─────────────────┐
│ 각 댓글마다:    │
│                 │
│ 1. 분류 확인    │
│    (긍정/부정/..)│
│                 │
│ 2. 애티튜드 매핑│
│    (감사/악플대처)│
│                 │
│ 3. AI 응답 생성 │
│    (Claude API) │
│                 │
│ 4. YouTube 게시 │
│    (댓글 작성)  │
└─────────────────┘
      │
      ▼
"10개 댓글에 응답 완료"
```

---

## 데이터 모델 (KV - 심플)

```typescript
// Key: comment:{commentId}
interface Comment {
  id: string;
  videoId: string;
  videoTitle: string;
  authorName: string;
  text: string;
  publishedAt: string;

  // 분류
  type: 'positive' | 'negative' | 'question' | 'suggestion' | 'reaction' | 'other';
  attitude: 'gratitude' | 'graceful' | 'expert' | 'friendly' | 'humor';

  // 응답
  status: 'pending' | 'replied';
  replyText?: string;
  repliedAt?: string;
}

// Key: config
interface Config {
  channelId: string;
  lastFetchedAt: string;
}

// Key: settings
interface Settings {
  // 분류 → 애티튜드 매핑
  attitudeMap: {
    positive: 'gratitude';
    negative: 'graceful';
    question: 'expert';
    suggestion: 'empathy';
    reaction: 'humor';
    other: 'friendly';
  };

  // 톤앤매너
  persona: string;        // "AI 잡돌이"
  tone: string;           // "친근하고 겸손한"
  customInstructions: string;
}
```

---

## 댓글 분류 & 애티튜드

### 분류 (5가지만)

| 분류 | 키워드/패턴 | 예시 |
|------|-------------|------|
| `positive` | 좋아요, 감사, 도움, 최고 | "영상 잘 봤어요!" |
| `negative` | 별로, 싫어, 쓸데없, 시간낭비 | "이게 뭐야" |
| `question` | ?, ~인가요, 어떻게, 방법 | "설치 어떻게 해요?" |
| `suggestion` | ~하면, ~했으면, 제안 | "자막 넣어주세요" |
| `reaction` | ㅋㅋ, ㅎㅎ, 와, 오 | "ㅋㅋㅋㅋ" |

### 애티튜드 (5가지만)

| 애티튜드 | 지침 | 예시 응답 |
|----------|------|-----------|
| `gratitude` | 진심 어린 감사 | "감사합니다! 더 좋은 영상으로 보답할게요" |
| `graceful` | 수긍 + 개선의지 | "피드백 감사해요! 더 나아지겠습니다" |
| `expert` | 친절한 정보 제공 | "네! ~하시면 됩니다 👍" |
| `empathy` | 공감 + 검토 약속 | "좋은 제안이네요! 검토해볼게요" |
| `humor` | 가볍게 호응 | "ㅋㅋ 저도요~" |

### 기본 매핑

```
positive  →  gratitude (감사)
negative  →  graceful (악플대처)
question  →  expert (전문가)
suggestion → empathy (공감)
reaction  →  humor (유머)
```

---

## API 엔드포인트 (심플)

| Method | Path | 설명 |
|--------|------|------|
| `GET` | `/` | 대시보드 HTML |
| `GET` | `/api/comments` | 댓글 목록 |
| `POST` | `/api/comments/fetch` | YouTube에서 가져오기 |
| `POST` | `/api/comments/reply-all` | 전체 자동 응답 |
| `GET` | `/api/settings` | 설정 조회 |
| `PUT` | `/api/settings` | 설정 수정 |

---

## 프로젝트 구조 (심플)

```
001-youtube-comments/
├── wrangler.toml
├── package.json
├── src/
│   ├── index.ts              # Worker 진입점
│   ├── api.ts                # API 핸들러
│   ├── youtube.ts            # YouTube API
│   ├── claude.ts             # Claude API (분류 + 응답)
│   ├── kv.ts                 # KV 헬퍼
│   └── views/
│       └── dashboard.ts      # HTML 템플릿
└── migrations/
    └── seed.json             # 초기 설정
```

---

## 환경 변수

```bash
# YouTube (내 채널 전용)
YOUTUBE_API_KEY=xxx           # API Key 방식 (심플)
YOUTUBE_CHANNEL_ID=xxx
YOUTUBE_ACCESS_TOKEN=xxx      # OAuth (댓글 작성용)
YOUTUBE_REFRESH_TOKEN=xxx

# Claude
CLAUDE_API_KEY=xxx

# 대시보드 인증 (Basic Auth)
ADMIN_PASSWORD=xxx
```

---

## wrangler.toml

```toml
name = "my-youtube-reply-bot"
main = "src/index.ts"
compatibility_date = "2024-11-25"

# 매일 자동 실행 (선택)
[triggers]
crons = ["0 0 * * *"]  # 매일 09:00 KST

# KV
[[kv_namespaces]]
binding = "KV"
id = "xxx"
```

---

## 설정 페이지 (심플)

```
┌─────────────────────────────────────────────────────────────┐
│  ⚙️ 설정                                                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  📝 채널 정보                                                │
│  페르소나: [AI 잡돌이                                   ]   │
│  톤:       [친근하고 겸손한                             ]   │
│                                                             │
│  📋 커스텀 지침                                              │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ - 절대 방어적이지 않게                               │   │
│  │ - 200자 이내로 짧게                                  │   │
│  │ - 이모지 1-2개만                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  🔗 분류 → 애티튜드 매핑                                    │
│  긍정적 댓글  →  [감사 ▼]                                   │
│  부정적 댓글  →  [악플대처 ▼]                               │
│  질문        →  [전문가 ▼]                                  │
│  제안        →  [공감 ▼]                                    │
│  단순반응    →  [유머 ▼]                                    │
│                                                             │
│                                              [저장]         │
└─────────────────────────────────────────────────────────────┘
```

---

## 영상 콘텐츠 구성안

### 타이틀
**"버튼 2개로 유튜브 댓글 자동 응답하기 - AI 대시보드 만들기"**

### 목차

1. **인트로** (1분)
   - "댓글 하나하나 답하기 귀찮죠?"
   - 완성된 대시보드 시연

2. **준비물** (2분)
   - Cloudflare 계정 (무료)
   - YouTube API 키
   - Claude API 키

3. **YouTube API 설정** (5분)
   - Google Cloud Console
   - API 활성화 & 키 발급
   - OAuth 설정 (댓글 작성 권한)

4. **Cloudflare Workers 설정** (3분)
   - wrangler 설치
   - 프로젝트 생성
   - KV 생성

5. **코드 작성** (10분)
   - 대시보드 UI
   - 댓글 가져오기 API
   - AI 분류 + 응답 생성
   - YouTube 댓글 게시

6. **배포 & 테스트** (3분)
   - wrangler deploy
   - 실제 댓글 테스트

7. **마무리** (1분)
   - 다음 편 예고: "이걸 서비스로 만들어보자"

---

## 이 범위에서 제외되는 것

- ❌ 회원가입/로그인
- ❌ 멀티 채널
- ❌ 커스텀 애티튜드
- ❌ 검토 후 게시 모드
- ❌ 요금제/결제
- ❌ 통계 대시보드

**→ 이것들은 "범위2: 서비스화"에서 다룸**

---

## 예상 개발 시간

| 항목 | 시간 |
|------|------|
| YouTube API 연동 | 2시간 |
| Claude API 연동 | 1시간 |
| 대시보드 UI | 2시간 |
| KV 저장/조회 | 1시간 |
| 설정 페이지 | 1시간 |
| 테스트/디버깅 | 2시간 |
| **총** | **~9시간** |
