# Spec: 007-ad-content

## Feature Name
광고 콘텐츠 제작

## User Value (고객 가치)
- **자연스러운 광고**: 제품을 억지로 노출하지 않고 콘텐츠에 자연스럽게 합성
- **빠른 제작**: 캠페인 시작 후 24시간 내 모든 광고 콘텐츠 생성
- **일관성 유지**: 페르소나 스타일을 유지하면서 제품 노출

## Target User (누가 쓸까?)
- **Primary**: 서비스 관리자 (콘텐츠 제작팀)
- **Secondary**: 광고주 (콘텐츠 승인)
- **Use Case**:
  - 006-brand-site에서 생성된 캠페인 기반 광고 콘텐츠 자동 생성
  - 광고주 승인 프로세스

## User Journey & Screen Flow

### 1. 광고 캠페인 목록
- **UI Elements**:
  - 진행 중 캠페인 카드 (브랜드명, 제품, 페르소나 개수, 마감일)
  - 각 캠페인별 콘텐츠 생성 진행도
  - 필터: 상태 (생성 대기/제작 중/승인 대기/완료)
- **CTA**: 캠페인 클릭 → 캠페인 상세
- **Next**: 캠페인 상세 화면

### 2. 캠페인 상세 & 콘텐츠 생성
- **UI Elements**:
  - 상단: 캠페인 정보 (브랜드, 제품, 선택된 페르소나들)
  - 중앙: 페르소나별 콘텐츠 생성 상태
  - 하단: "전체 자동 생성" 버튼
- **CTA**: "전체 자동 생성", "개별 생성"
- **Next**: 생성 진행 → 광고 콘텐츠 목록

### 3. 광고 콘텐츠 생성 설정
- **UI Elements**:
  - 좌측: 제품 이미지 업로드 (006에서 가져옴)
  - 우측 상단: 제품 배치 옵션 (자동/수동)
  - 우측 하단: 광고 문구 템플릿 선택
    - "자연스러운 일상" (제품 크게 부각 안 함)
    - "명확한 홍보" (제품 명시적 언급)
    - "스토리텔링" (사용 후기 형식)
- **CTA**: "003-content-composer 활용하여 생성"
- **Next**: 003으로 이동 (광고 모드)

### 4. 광고 콘텐츠 갤러리 (광고주 승인용)
- **UI Elements**:
  - 생성된 광고 콘텐츠 그리드
  - 각 카드: 이미지, 페르소나, 캡션 미리보기
  - 광고주 승인 상태 (대기/승인/거절)
  - 필터: 페르소나, 승인 상태
- **CTA**: "광고주에게 승인 요청 전송"
- **Next**: 광고주 대시보드 (006) 또는 005-approval

## Business Rules

### 광고 콘텐츠 생성 규칙
- **자동 생성 모드**:
  - 003-content-composer 활용
  - 제품 이미지 자동 합성 (OpenCV/Pillow)
  - 캡션에 제품명 + 브랜드명 자동 삽입
  - 해시태그에 브랜드 해시태그 추가

### 제품 합성 규칙
- **합성 위치**:
  - 자동 모드: AI가 이미지 분석하여 최적 위치 선택
  - 수동 모드: 관리자가 드래그로 위치/크기 조정
- **합성 스타일**:
  - 투명도: 80-100% (자연스럽게)
  - 크기: 이미지의 15-30% 차지
  - 그림자/테두리: 자동 추가로 자연스러움 강화

### 광고 문구 삽입 규칙
- **자연스러운 일상**:
  ```
  "오늘도 좋아하는 [제품명]과 함께 ☕"
  ```
- **명확한 홍보**:
  ```
  "[제품명] 덕분에 [효과]! #[브랜드명] #광고"
  ```
- **스토리텔링**:
  ```
  "요즘 [고민]이 있었는데, [제품명]으로 해결했어요 😊"
  ```

### 광고주 승인 프로세스
- **승인 요청**: 전체 콘텐츠 생성 완료 후 광고주에게 이메일 알림
- **승인 기한**: 24시간 (미승인 시 자동 승인)
- **수정 요청**: 광고주가 거절 시 관리자에게 피드백 전달, 재생성

## Edge Cases

### 제품 합성 실패
- 제품 이미지가 투명 배경 아님: 자동 배경 제거 시도
- 배경 제거 실패: 관리자에게 수동 편집 요청

### 부자연스러운 합성
- AI 평가 점수 낮음: 자동으로 재생성
- 광고주 거절: 수동으로 재조정

### 광고 문구 부적절
- 과장 광고 자동 감지: "효과 100% 보장" 등 표현 자동 필터링
- 의약품 광고 규정 준수: 특정 표현 자동 차단

## Dependencies
- **003-content-composer**: 광고 모드로 이미지 생성
- **004-caption-generator**: 광고 문구 자동 삽입
- **006-brand-site**: 캠페인 정보, 제품 이미지, 광고주 정보
- **연관 기능**:
  - 005-approval: 광고 콘텐츠 최종 승인 후 포스팅 큐로 전달

## Technical Requirements (초기 추론)
- **이미지 합성**: Pillow/OpenCV
- **배경 제거**: remove.bg API 또는 Rembg
- **AI 품질 평가**: GPT-4 Vision (합성 자연스러움 평가)

---

## 💡 더 구체화하려면

```
/appkit.spec 007-ad-content "제품 배치 A/B 테스트 (여러 위치 자동 생성)"
/appkit.spec 007-ad-content "광고 성과 학습 (클릭률 높은 스타일 자동 적용)"
/appkit.spec 007-ad-content "브랜드 가이드라인 준수 (색상, 폰트)"
```
